# 영화 추천 시스템 (Flask 기반)

사용자의 ID를 기반으로 직업 기반 추천, 나이대 기반 추천, KNN 기반 개인화 추천을 수행하는 웹 영화 추천 시스템입니다.

![시스템 개요 이미지](https://github.com/user-attachments/assets/fad3f061-f70a-450f-b930-22a7d31aeb3d)

---

## 프로젝트 개요

- 사용자 정보를 입력 받아 추천 수행
- MySQL 데이터베이스 기반 사용자 및 영화 정보 연동
- 피어슨 상관계수 기반 KNN 알고리즘 적용
- Flask 웹 프레임워크 기반 웹 인터페이스 제공

---

## 주요 기능

### 1. 직업 기반 영화 추천
- 입력받은 사용자 ID로 해당 사용자의 직업을 조회
- 동일 직업군 유저들이 평균적으로 높은 평점을 준 영화 10개 추천

### 2. 나이대 기반 영화 추천
- 사용자 ID를 통해 나이 정보를 조회
- 해당 사용자의 나이대(10대, 20대 등)에 속한 유저들이 선호한 영화 10개 추천

### 3. KNN 기반 개인화 추천
- 피어슨 상관계수를 기반으로 사용자와 유사한 40명의 유저 탐색
- 이 유저들이 높게 평가한 영화 중, 현재 사용자가 보지 않은 영화에 대해 예상 평점 계산
- 상위 10개의 영화를 추천

![KNN 알고리즘 개요](https://github.com/user-attachments/assets/8815e96b-4ec5-489d-8366-db78f0ff6b9f)

---

## 사용 기술 및 설명

### Python
- 전체 프로그램 로직 구현
- Pandas, NumPy 사용하여 데이터 처리

### Flask
- Python 기반 웹 프레임워크
- 사용자 입력 및 추천 결과 출력 기능 제공
- HTML + Jinja2 템플릿 사용

### MySQL
- 사용자, 영화, 평가 데이터를 저장 및 쿼리 수행

### KNN 알고리즘 (피어슨 기반 협업 필터링)
- 사용자-영화 평점 pivot 테이블 생성
- 피어슨 상관계수 계산을 통해 유사 사용자 탐색
- 유사 사용자들의 평점 정보를 기반으로 추천 점수 예측

![피어슨 상관계수 수식](https://github.com/user-attachments/assets/a97bdd6c-42c0-415a-bd92-01c99a2f2e47)
![추천 계산 방식](https://github.com/user-attachments/assets/3b983ac6-b939-441f-9772-334537abb001)

---

## 디렉토리 구조

```
.
├── app/
│   ├── __init__.py
│   ├── routes.py
│   ├── main/
│   │   ├── index.py
│   └── templates/
│       ├── base.html
│       ├── index.html
│       └── somepage.html
├── run.py
├── README.md
```

---

## 실행 방법

1. MySQL DB 구성 및 테이블(user, ratings, movie) 생성
2. Flask 서버 실행

```bash
python run.py
```

3. 웹 브라우저 접속 → 사용자 ID 입력 → 추천 결과 확인

---

## 기타 사항

- 영화 이미지는 고정 이미지 사용
- 모든 결과는 텍스트 기반 출력
- 버튼 클릭 시 메인 화면으로만 이동 (다중 페이지 구성 없음)

---

## 팀 정보
- 구현규 (12194114)

---

## 참고 사항
- 피어슨 상관계수 기반 협업 필터링 알고리즘
- HTML 템플릿 기반 간단 UI 구성
- SQL + Pandas 기반 데이터 전처리 및 추천 로직 구성


